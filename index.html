<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dopamine Mastery — Read Online</title>
  <meta name="description" content="Dopamine Mastery by Younes Emam — read the full book online. Support the author via Amazon stores." />
  <style>
    :root{--bg:#061226;--card:#071a2b;--muted:#9fb0bd;--accent:#ffd166;--radius:12px;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#031021 0,#071226 70%);color:#eaf4ff}
    a{color:inherit}
    .wrap{max-width:1200px;margin:18px auto;padding:18px;display:grid;grid-template-columns:1fr 360px;gap:22px}
    header{grid-column:1/-1;display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#ff8a65);display:flex;align-items:center;justify-content:center;font-weight:800;color:#07212a}
    .title{font-size:18px;font-weight:700}
    .subtitle{font-size:13px;color:var(--muted)}

    /* Reader area - stacked pages for natural scroll */
    .reader{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:var(--radius);padding:14px;min-height:74vh;box-shadow:0 10px 40px rgba(2,6,23,0.55);overflow:auto}
    .controls{display:flex;gap:8px;align-items:center;margin-bottom:12px;position:sticky;top:10px;background:transparent;padding-bottom:10px}
    .btn{background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.04);padding:8px 12px;border-radius:8px;color:var(--accent);cursor:pointer;font-weight:600}
    .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
    .reader-inner{display:flex;flex-direction:column;gap:18px}
    .page{background:#0f1724;border-radius:10px;padding:12px;display:flex;justify-content:center;align-items:center}
    .page img{max-width:100%;height:auto;display:block;touch-action:none;user-select:none;-webkit-user-drag:none;transition:transform .12s ease}

    /* Sidebar */
    .sidebar{display:flex;flex-direction:column;gap:14px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.02)}
    h3{margin:0 0 8px 0}
    p.small{color:var(--muted);font-size:14px;line-height:1.45}
    .buy-list{display:grid;grid-template-columns:1fr;gap:8px;margin-top:8px}
    .buy-btn{display:flex;gap:10px;align-items:center;padding:10px;border-radius:10px;text-decoration:none;background:linear-gradient(90deg, rgba(255,255,255,0.02), transparent);border:1px solid rgba(255,255,255,0.03);color:#fff}
    .ad-placeholder{height:90px;background:linear-gradient(90deg,#061726,#082033);border-radius:8px;border:1px dashed rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:13px}

    footer{grid-column:1/-1;text-align:center;color:var(--muted);font-size:13px;margin-top:12px}

    @media(max-width:980px){.wrap{grid-template-columns:1fr;padding:12px}.sidebar{order:2}}

    /* Focus outline for selected page */
    .page.selected{outline:2px solid rgba(255,209,102,0.12)}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">DM</div>
        <div>
          <div class="title">DOPAMINE MASTERY — Read Online</div>
          <div class="subtitle">How to Outsmart Your Brain and Take Back Control — by Younes Emam</div>
        </div>
      </div>
      <div style="display:flex;gap:10px;align-items:center">
        <a class="btn secondary" href="#support">Support the Author</a>
      </div>
    </header>

    <main class="reader" id="reader" tabindex="0">
      <div class="controls" id="controls">
        <div style="display:flex;gap:8px;align-items:center">
          <button class="btn" id="zoomIn">Zoom +</button>
          <button class="btn" id="zoomOut">Zoom -</button>
          <button class="btn" id="fit">Fit</button>
          <button class="btn" id="reset">Reset</button>
        </div>
        <div style="margin-left:auto;color:var(--muted);font-size:13px">Double-click / Double-tap to zoom • Pinch to zoom • Drag to pan when zoomed</div>
      </div>

      <div class="reader-inner" id="readerInner">
        <!-- Pages will be injected here -->
      </div>
    </main>

    <aside class="sidebar">
      <div class="card" id="support">
        <h3>Support the Author</h3>
        <p class="small">If you enjoyed the book and want to support future work, consider purchasing a copy from your local Amazon store. Thank you — every purchase helps independent authors keep creating.</p>
        <div class="buy-list">
          <a class="buy-btn" href="https://amzn.to/45ceeWt" target="_blank" rel="noopener noreferrer">United States — Amazon US</a>
          <a class="buy-btn" href="https://www.amazon.co.uk/dp/B0FJ8JDCZ6" target="_blank" rel="noopener noreferrer">United Kingdom — Amazon UK</a>
          <a class="buy-btn" href="https://www.amazon.fr/dp/B0FJ8JDCZ6" target="_blank" rel="noopener noreferrer">France — Amazon FR</a>
          <a class="buy-btn" href="https://www.amazon.es/dp/B0FJ8JDCZ6" target="_blank" rel="noopener noreferrer">Spain — Amazon ES</a>
          <a class="buy-btn" href="https://www.amazon.it/dp/B0FJ8JDCZ6" target="_blank" rel="noopener noreferrer">Italy — Amazon IT</a>
          <a class="buy-btn" href="https://www.amazon.nl/dp/B0FJ8JDCZ6" target="_blank" rel="noopener noreferrer">Netherlands — Amazon NL</a>
          <a class="buy-btn" href="https://www.amazon.pl/dp/B0FJ8JDCZ6" target="_blank" rel="noopener noreferrer">Poland — Amazon PL</a>
          <a class="buy-btn" href="https://www.amazon.se/dp/B0FJ8JDCZ6" target="_blank" rel="noopener noreferrer">Sweden — Amazon SE</a>
          <a class="buy-btn" href="https://www.amazon.co.jp/dp/B0FJ8JDCZ6" target="_blank" rel="noopener noreferrer">Japan — Amazon JP</a>
          <a class="buy-btn" href="https://www.amazon.ca/dp/B0FJ8JDCZ6" target="_blank" rel="noopener noreferrer">Canada — Amazon CA</a>
          <a class="buy-btn" href="https://www.amazon.com.au/dp/B0FJ8JDCZ6" target="_blank" rel="noopener noreferrer">Australia — Amazon AU</a>
        </div>
      </div>

      <div class="card">
        <h3>Book Description</h3>
        <p class="small">What if your brain wasn’t broken — just hijacked? In a world wired for instant gratification and dopamine overload, <strong>Dopamine Mastery</strong> offers a science-backed path back to focus, clarity, and control. Through nine practical chapters you’ll learn why willpower fails, how to build lasting habits, and how to design an environment that supports deep work and lasting fulfillment.</p>
      </div>

      <div class="card">
        <h3>About the Author</h3>
        <p class="small">Younes Emam — Author and book designer. This site provides full in-browser reading access. If you'd like to support the author, consider buying a copy from Amazon.</p>
      </div>

      <div class="card">
        <h3>Ads (Placeholder)</h3>
        
<div class="card">
  <h3>Advertisement</h3>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9331292327775142"
     crossorigin="anonymous"></script>
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-9331292327775142"
       data-ad-slot="2324115621"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

      </div>

    </aside>

    <footer>© 2025 Younes Emam — Read inside the site. Purchase a copy to support independent writing.</footer>
  </div>

  <script>
    // --- configuration: list all image filenames in order ---
    const images = [
      'Cover.jpg',
      '1.jpg','2.jpg','3.jpg','4.jpg','5.jpg','6.jpg','7.jpg','8.jpg','9.jpg','10.jpg','11.jpg','12.jpg','13.jpg','14.jpg','15.jpg','16.jpg','17.jpg','18.jpg','19.jpg','20.jpg','21.jpg','22.jpg','23.jpg','24.jpg','25.jpg','26.jpg','27.jpg','28.jpg','29.jpg','30.jpg','31.jpg','32.jpg','33.jpg','34.jpg','35.jpg','36.jpg','37.jpg','38.jpg','39.jpg','40.jpg','41.jpg','42.jpg','43.jpg','44.jpg','45.jpg','46.jpg','47.jpg','48.jpg','49.jpg'
      // add more filenames here (e.g. '10.jpg') when available
    ];

    // --- utilities for per-image zoom/pan state ---
    function createState(){
      return {scale:1, x:0, y:0, pointers:{}, lastDist:0, isPanning:false};
    }

    const readerInner = document.getElementById('readerInner');
    const reader = document.getElementById('reader');

    // Build page elements
    const pages = images.map((src, i)=>{
      const wrap = document.createElement('div'); wrap.className='page';
      wrap.dataset.index = i;
      const img = document.createElement('img'); img.src = src; img.alt = `Page ${i+1}`;
      // attach state
      img._state = createState();
      // prevent native gestures interfering
      img.addEventListener('gesturestart', e=>e.preventDefault());
      wrap.appendChild(img);
      readerInner.appendChild(wrap);
      return {wrap, img};
    });

    // Focus handling (which page is selected for controls)
    let focusedIndex = 0;
    function focusPage(i){
      if(i<0) i=0; if(i>=pages.length) i=pages.length-1;
      pages.forEach((p,idx)=> p.wrap.classList.toggle('selected', idx===i));
      focusedIndex = i;
    }

    // Find page from a DOM target (walk up)
    function pageOf(el){
      while(el && !el.dataset?.index) el = el.parentElement;
      return el ? parseInt(el.dataset.index,10) : null;
    }

    // Render transform for an image
    function applyTransform(img){
      const s = img._state;
      img.style.transform = `translate(${s.x}px, ${s.y}px) scale(${s.scale})`;
    }

    // Reset image
    function resetImage(img){ img._state = createState(); applyTransform(img); }

    // Zoom functions (operate on focusedIndex)
    function zoom(delta){
      const img = pages[focusedIndex].img; const s = img._state;
      const prev = s.scale;
      s.scale = Math.max(1, Math.min(4, +(s.scale + delta).toFixed(3)));
      // if scaling down to 1, reset pan
      if(s.scale === 1){ s.x = 0; s.y = 0; }
      applyTransform(img);
    }
    function fitImage(){ const img = pages[focusedIndex].img; img._state.scale = 1; img._state.x=0; img._state.y=0; applyTransform(img); }

    // Controls
    document.getElementById('zoomIn').addEventListener('click', ()=>{ zoom(0.25); });
    document.getElementById('zoomOut').addEventListener('click', ()=>{ zoom(-0.25); });
    document.getElementById('reset').addEventListener('click', ()=>{ resetImage(pages[focusedIndex].img); });
    document.getElementById('fit').addEventListener('click', ()=>{ fitImage(); });

    // Image interaction: click to focus, double-click to toggle zoom, wheel (ctrl+wheel) to zoom
    pages.forEach((p, idx)=>{
      const img = p.img;
      // focus on click
      img.addEventListener('click', (e)=>{ focusPage(idx); });
      // double click to toggle between 1 and 2x
      img.addEventListener('dblclick', (e)=>{
        focusPage(idx);
        const s = img._state;
        if(s.scale <= 1.05) s.scale = 2; else s.scale = 1, s.x=0, s.y=0;
        applyTransform(img);
      });
      // wheel zoom: Ctrl+Wheel or Wheel+Alt (for mobile emulators)
      img.addEventListener('wheel', (ev)=>{
        if(ev.ctrlKey || ev.altKey){ ev.preventDefault(); focusPage(idx); const step = -ev.deltaY/400; zoom(step); }
      }, {passive:false});

      // Pointer events for pan and pinch
      img.addEventListener('pointerdown', startPointer);
      img.addEventListener('pointermove', movePointer);
      img.addEventListener('pointerup', endPointer);
      img.addEventListener('pointercancel', endPointer);
      img.addEventListener('pointerleave', endPointer);

      // touch double tap handling (simple)
      let lastTap=0;
      img.addEventListener('touchend', function(e){ const t = Date.now(); if(t - lastTap < 300){ /* double tap */ img.dispatchEvent(new Event('dblclick')); } lastTap = t; });
    });

    // Global pointer handlers rely on img._state
    function startPointer(e){
      const idx = pageOf(e.target);
      if(idx === null) return;
      focusPage(idx);
      const img = pages[idx].img; img.setPointerCapture?.(e.pointerId);
      const s = img._state; s.pointers[e.pointerId] = {x:e.clientX, y:e.clientY};
      if(Object.keys(s.pointers).length===2){
        // start pinch
        const keys = Object.keys(s.pointers);
        const p1 = s.pointers[keys[0]]; const p2 = s.pointers[keys[1]];
        s.lastDist = Math.hypot(p2.x - p1.x, p2.y - p1.y);
      } else if(s.scale>1){ s.isPanning = true; }
    }

    function movePointer(e){
      const idx = pageOf(e.target); if(idx===null) return;
      const img = pages[idx].img; const s = img._state;
      if(!(e.pointerId in s.pointers)) return;
      s.pointers[e.pointerId] = {x:e.clientX, y:e.clientY};
      const keys = Object.keys(s.pointers);
      if(keys.length===2){
        // pinch zoom
        const p1 = s.pointers[keys[0]]; const p2 = s.pointers[keys[1]];
        const dist = Math.hypot(p2.x - p1.x, p2.y - p1.y);
        const factor = dist / (s.lastDist || dist);
        s.lastDist = dist;
        // zoom centered roughly at midpoint
        const prevScale = s.scale; s.scale = Math.max(1, Math.min(6, +(s.scale * factor).toFixed(3)));
        // adjust x/y so midpoint remains under fingers (approx)
        const midX = (p1.x + p2.x)/2; const midY = (p1.y + p2.y)/2;
        s.x = s.x - (midX)*(s.scale/prevScale - 1);
        s.y = s.y - (midY)*(s.scale/prevScale - 1);
        applyTransform(img);
      } else if(keys.length===1 && s.isPanning){
        // panning
        const p = s.pointers[keys[0]];
        const dx = e.movementX || (e.clientX - p.x);
        const dy = e.movementY || (e.clientY - p.y);
        s.x += dx; s.y += dy;
        s.pointers[keys[0]] = {x:e.clientX, y:e.clientY};
        applyTransform(img);
      }
    }

    function endPointer(e){
      const idx = pageOf(e.target); if(idx===null) return;
      const img = pages[idx].img; const s = img._state;
      delete s.pointers[e.pointerId];
      if(Object.keys(s.pointers).length===0){ s.isPanning=false; s.lastDist=0; }
      // small safety: if scale returns to ~1, reset pan
      if(s.scale<=1.01){ s.scale=1; s.x=0; s.y=0; applyTransform(img); }
    }

    // Keyboard shortcuts
    document.addEventListener('keydown', (e)=>{
      if(e.key==='+'||e.key==='=') zoom(0.25);
      if(e.key==='-') zoom(-0.25);
      if(e.key==='0') resetImage(pages[focusedIndex].img);
      if(e.key==='ArrowLeft') window.scrollBy({top:-window.innerHeight/2, behavior:'smooth'});
      if(e.key==='ArrowRight') window.scrollBy({top:window.innerHeight/2, behavior:'smooth'});
    });

    // Click to focus nearest page on scroll center (nice UX)
    let scrollTimer; reader.addEventListener('scroll', ()=>{
      clearTimeout(scrollTimer);
      scrollTimer = setTimeout(()=>{
        // find page closest to center
        const centerY = reader.scrollTop + reader.clientHeight/2;
        let bestIdx = 0; let bestDist = 1e9;
        pages.forEach((p, idx)=>{
          const rect = p.wrap.getBoundingClientRect();
          // convert to reader coordinates
          const top = p.wrap.offsetTop;
          const mid = top + p.wrap.offsetHeight/2;
          const dist = Math.abs(mid - centerY);
          if(dist < bestDist){ bestDist = dist; bestIdx = idx; }
        });
        focusPage(bestIdx);
      }, 120);
    });

    // Prevent easy saving: disable context menu on images
    document.addEventListener('contextmenu', e=>{ if(e.target.tagName==='IMG') e.preventDefault(); });

    // Initial focus
    focusPage(0);

    // ---- Instructions for adding more images ----
    // 1) Put image files (e.g., '10.jpg') in the same folder as this HTML file.
    // 2) Add the filename to the `images` array above in the correct order.
    // 3) Reload the page in your browser.

    // Notes:
    // - The reader scrolls naturally (vertical scroll to move between pages).
    // - Use double-click / double-tap to quickly zoom.
    // - Pinch (two-finger) gestures work on touch devices to zoom.
    // - When zoomed, drag on the image to pan. When at default zoom (1x), normal page scroll works.
    // - This is a front-end (client-side) solution. If you want stronger download protection, we can discuss server-side image tiling or watermarking.
  </script>
</body>
</html>
